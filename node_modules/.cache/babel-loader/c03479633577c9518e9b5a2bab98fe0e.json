{"remainingRequest":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/babel-loader/lib/index.js!/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/src/views/DeviceInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/src/views/DeviceInfo.vue","mtime":1606652366868},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/cache-loader/dist/cjs.js","mtime":1606633812494},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/babel-loader/lib/index.js","mtime":1606633811405},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/cache-loader/dist/cjs.js","mtime":1606633812494},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/vue-loader/lib/index.js","mtime":1606633822865}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default {\n  name: \"icons\",\n  props: {\n    deviceId: String\n  },\n  data: function data() {\n    return {\n      deviceList: [],\n      polling: null,\n      SERVER_URL: \"http://134.209.101.192:3000\",\n      columns: [{\n        label: 'Updated Date',\n        field: 'updatedDate'\n      }, {\n        label: 'Device Id',\n        field: 'deviceId'\n      }, {\n        label: 'Mode',\n        field: 'onMode'\n      }, {\n        label: 'Credit',\n        field: 'currentCredit'\n      }, {\n        label: 'Inserted Credit',\n        field: 'insertedCredit'\n      }],\n      rows: []\n    };\n  },\n  methods: {\n    getHistory: function () {\n      var _getHistory = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(deviceId) {\n        var _this = this;\n\n        var loader, sdate, edate;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loader = this.$loading.show({\n                  // Optional parameters\n                  color: 'blue',\n                  canCancel: true\n                });\n                sdate = moment().subtract(7, \"days\").format(\"YYYY-MM-DD HH:mm:ss\");\n                edate = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n                _context.next = 5;\n                return axios.get(\"\".concat(this.SERVER_URL, \"/getTransectionByDeviceId?deviceId=\").concat(deviceId, \"&sdate=\").concat(sdate, \"&edate=\").concat(edate, \"&limit=2000\")).then(function (response) {\n                  console.log(\"HISTORY lIST \", response);\n                  _this.rows = response.data;\n                  loader.hide();\n                }).catch(function (e) {\n                  console.log(\"ERROR |\", e);\n                  loader.hide();\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getHistory(_x) {\n        return _getHistory.apply(this, arguments);\n      }\n\n      return getHistory;\n    }()\n  },\n  created: function created() {\n    this.getHistory(this.deviceId);\n  }\n};",{"version":3,"sources":["DeviceInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAkBA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,6BAHA;AAIA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,cADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,KAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAbA,EAiBA;AACA,QAAA,KAAA,EAAA,iBADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAjBA,CAJA;AA0BA,MAAA,IAAA,EAAA;AA1BA,KAAA;AA4BA,GAlCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA;AAAA,iGACA,QADA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA,KAAA,QAAA,CAAA,IAAA,CAAA;AACA;AACA,kBAAA,KAAA,EAAA,MAFA;AAGA,kBAAA,SAAA,EAAA;AAHA,iBAAA,CAFA;AAOA,gBAAA,KAPA,GAOA,MAAA,GAAA,QAAA,CAAA,CAAA,EAAA,MAAA,EAAA,MAAA,CAAA,qBAAA,CAPA;AAQA,gBAAA,KARA,GAQA,MAAA,GAAA,MAAA,CAAA,qBAAA,CARA;AAAA;AAAA,uBASA,KAAA,CACA,GADA,WACA,KAAA,UADA,gDACA,QADA,oBACA,KADA,oBACA,KADA,kBAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;AACA,kBAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,kBAAA,MAAA,CAAA,IAAA;AACA,iBANA,EAOA,KAPA,CAOA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,CAAA;AACA,kBAAA,MAAA,CAAA,IAAA;AACA,iBAVA,CATA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAnCA;AAyDA,EAAA,OAzDA,qBAyDA;AACA,SAAA,UAAA,CAAA,KAAA,QAAA;AACA;AA3DA,CAAA","sourcesContent":["<template>\n  <div>\n    <card header-classes=\"bg-transparent\">\n      <h3 slot=\"header\" class=\"mb-0\">Event List</h3>\n      <vue-good-table\n      :columns=\"columns\"\n      :rows=\"rows\"\n      :pagination-options=\"{\n            enabled: true,\n            mode: 'pages',\n            perPage: 10,\n            perPageDropdown: [50, 100, 300,1000]\n        }\"\n      />\n    </card>\n  </div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"icons\",\n  props:{\n    deviceId: String\n  },\n  data() {\n    return {\n      deviceList: [],\n      polling: null,\n      SERVER_URL: \"http://134.209.101.192:3000\",\n      columns: [\n        {\n          label: 'Updated Date',\n          field: 'updatedDate',          \n        },\n        {\n          label: 'Device Id',\n          field: 'deviceId',\n        },\n        {\n          label: 'Mode',\n          field: 'onMode',\n        },\n        {\n          label: 'Credit',\n          field: 'currentCredit',\n        },\n        {\n          label: 'Inserted Credit',\n          field: 'insertedCredit',\n        },\n      ],\n      rows:[]\n    };\n  },\n  methods: {\n    async getHistory(deviceId) {\n      let loader = this.$loading.show({\n      // Optional parameters\n      color: 'blue',\n      canCancel: true,\n    });\n    var sdate = moment().subtract(7, \"days\").format(\"YYYY-MM-DD HH:mm:ss\");\n    var edate = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n      await axios\n        .get(`${this.SERVER_URL}/getTransectionByDeviceId?deviceId=${deviceId}&sdate=${sdate}&edate=${edate}&limit=2000`)\n        .then((response) => {\n          console.log(\"HISTORY lIST \", response);\n          this.rows = response.data;\n          loader.hide();\n        })\n        .catch((e) => {\n          console.log(\"ERROR |\", e);\n          loader.hide();\n        });\n    },\n  },\n  created() {\n    this.getHistory(this.deviceId);\n  },\n};\n</script>\n<style></style>\n"],"sourceRoot":"src/views"}]}