{"remainingRequest":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/babel-loader/lib/index.js!/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/src/views/Dashboard/PageVisitsTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/src/views/Dashboard/PageVisitsTable.vue","mtime":1606641334456},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/cache-loader/dist/cjs.js","mtime":1606633812494},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/babel-loader/lib/index.js","mtime":1606633811405},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/cache-loader/dist/cjs.js","mtime":1606633812494},{"path":"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/vue-loader/lib/index.js","mtime":1606633822865}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/kittaphornj/Desktop/CARWASH_PROJECT/CARWASH_FRONTEND/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _DropdownMenu2 from \"element-ui/lib/theme-chalk/dropdown-menu.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _DropdownMenu from \"element-ui/lib/dropdown-menu\";\nimport _DropdownItem2 from \"element-ui/lib/theme-chalk/dropdown-item.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _DropdownItem from \"element-ui/lib/dropdown-item\";\nimport _Dropdown2 from \"element-ui/lib/theme-chalk/dropdown.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Dropdown from \"element-ui/lib/dropdown\";\nimport _TableColumn2 from \"element-ui/lib/theme-chalk/table-column.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _TableColumn from \"element-ui/lib/table-column\";\nimport \"core-js/modules/es6.function.name\";\nimport _Table2 from \"element-ui/lib/theme-chalk/table.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Table from \"element-ui/lib/table\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default _defineProperty({\n  name: \"page-visits-table\",\n  components: (_components = {}, _defineProperty(_components, _Table.name, _Table), _defineProperty(_components, _TableColumn.name, _TableColumn), _defineProperty(_components, _Dropdown.name, _Dropdown), _defineProperty(_components, _DropdownItem.name, _DropdownItem), _defineProperty(_components, _DropdownMenu.name, _DropdownMenu), _components),\n  data: function data() {\n    return {\n      polling: null,\n      SERVER_URL: \"http://0.0.0.0:3000\",\n      tableData: [{\n        page: \"/argon/\",\n        visitors: \"4,569\",\n        unique: \"340\",\n        bounceRate: \"46,53%\"\n      }, {\n        page: \"/argon/index.html\",\n        visitors: \"3,985\",\n        unique: \"319\",\n        bounceRate: \"46,53%\"\n      }, {\n        page: \"/argon/charts.html\",\n        visitors: \"3,513\",\n        unique: \"294\",\n        bounceRate: \"36,49%\"\n      }, {\n        page: \"/argon/tables.html\",\n        visitors: \"2,050\",\n        unique: \"147\",\n        bounceRate: \"50,87%\"\n      }, {\n        page: \"/argon/profile.html\",\n        visitors: \"1,795\",\n        unique: \"190\",\n        bounceRate: \"46,53%\"\n      }]\n    };\n  },\n  methods: {\n    getCurrentStates: function () {\n      var _getCurrentStates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"\".concat(this.SERVER_URL, \"/getDeviceBySite?site=Rayong-1\")).then(function (response) {\n                  console.log(\"DEVICES lIST \", response);\n                  _this.tableData = [];\n\n                  if (response.data.length > 0) {\n                    _this.tableData = response.data;\n                  }\n                }).catch(function (e) {\n                  console.log(\"ERROR |\", e);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getCurrentStates() {\n        return _getCurrentStates.apply(this, arguments);\n      }\n\n      return getCurrentStates;\n    }(),\n    pollData: function pollData() {\n      var _this2 = this;\n\n      this.polling = setInterval(function () {\n        _this2.getCurrentStates();\n      }, 2000);\n    }\n  },\n  created: function () {\n    var _created = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.getCurrentStates();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.polling);\n  }\n}, \"created\", function created() {\n  this.pollData();\n});",{"version":3,"sources":["PageVisitsTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAQA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,UAAA,kDACA,OAAA,IADA,wCAEA,aAAA,IAFA,8CAGA,UAAA,IAHA,2CAIA,cAAA,IAJA,+CAKA,cAAA,IALA,8BAFA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,qBAFA;AAGA,MAAA,SAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OADA,EAOA;AACA,QAAA,IAAA,EAAA,mBADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAPA,EAaA;AACA,QAAA,IAAA,EAAA,oBADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAbA,EAmBA;AACA,QAAA,IAAA,EAAA,oBADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAnBA,EAyBA;AACA,QAAA,IAAA,EAAA,qBADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAzBA;AAHA,KAAA;AAoCA,GA9CA;AA+CA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CACA,GADA,WACA,KAAA,UADA,qCAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;AACA,kBAAA,KAAA,CAAA,SAAA,GAAA,EAAA;;AACA,sBAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,oBAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA;AACA;AACA,iBARA,EASA,KATA,CASA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,CAAA;AACA,iBAXA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAeA,IAAA,QAfA,sBAeA;AAAA;;AACA,WAAA,OAAA,GAAA,WAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,gBAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AAnBA,GA/CA;AAoEA,EAAA,OApEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAqEA,KAAA,gBAAA,EArEA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAuEA,EAAA,aAvEA,2BAuEA;AACA,IAAA,aAAA,CAAA,KAAA,OAAA,CAAA;AACA;AAzEA,iCA0EA;AACA,OAAA,QAAA;AACA,CA5EA","sourcesContent":["<template>\n  <b-card body-class=\"p-0\" header-class=\"border-0\">\n    <template v-slot:header>\n      <b-row align-v=\"center\">\n        <b-col>\n          <h3 class=\"mb-0\">Device current states</h3>\n        </b-col>\n        <!-- <b-col class=\"text-right\">\n          <a href=\"#!\" class=\"btn btn-sm btn-primary\">See all</a>\n        </b-col> -->\n      </b-row>\n    </template>\n\n    <el-table\n      class=\"table-responsive table\"\n      :data=\"tableData\"\n      header-row-class-name=\"thead-light\"\n    >\n      <el-table-column label=\"Device Id\" min-width=\"90px\" prop=\"deviceId\">\n        <template v-slot=\"{ row }\">\n          <div class=\"font-weight-600\">{{ row.deviceId }}</div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"Updated Date\"\n        min-width=\"180px\"\n        prop=\"updatedDate\"\n      >\n      </el-table-column>\n      <el-table-column label=\"Selected Mode\" min-width=\"150px\" prop=\"onMode\">\n      </el-table-column>\n\n      <el-table-column label=\"Credit\" min-width=\"150px\" prop=\"currentCredit\">\n        <template v-slot=\"{ row }\">\n          {{ row.currentCredit }}\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"Last inserted credit\"\n        min-width=\"150px\"\n        prop=\"lastInsertCredit\"\n      >\n      </el-table-column>\n    </el-table>\n  </b-card>\n</template>\n<script>\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport {\n  Table,\n  TableColumn,\n  DropdownMenu,\n  DropdownItem,\n  Dropdown,\n} from \"element-ui\";\nexport default {\n  name: \"page-visits-table\",\n  components: {\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [Dropdown.name]: Dropdown,\n    [DropdownItem.name]: DropdownItem,\n    [DropdownMenu.name]: DropdownMenu,\n  },\n  data() {\n    return {\n      polling: null,\n      SERVER_URL: \"http://0.0.0.0:3000\",\n      tableData: [\n        {\n          page: \"/argon/\",\n          visitors: \"4,569\",\n          unique: \"340\",\n          bounceRate: \"46,53%\",\n        },\n        {\n          page: \"/argon/index.html\",\n          visitors: \"3,985\",\n          unique: \"319\",\n          bounceRate: \"46,53%\",\n        },\n        {\n          page: \"/argon/charts.html\",\n          visitors: \"3,513\",\n          unique: \"294\",\n          bounceRate: \"36,49%\",\n        },\n        {\n          page: \"/argon/tables.html\",\n          visitors: \"2,050\",\n          unique: \"147\",\n          bounceRate: \"50,87%\",\n        },\n        {\n          page: \"/argon/profile.html\",\n          visitors: \"1,795\",\n          unique: \"190\",\n          bounceRate: \"46,53%\",\n        },\n      ],\n    };\n  },\n  methods: {\n    async getCurrentStates() {\n      await axios\n        .get(`${this.SERVER_URL}/getDeviceBySite?site=Rayong-1`)\n        .then((response) => {\n          console.log(\"DEVICES lIST \", response);\n          this.tableData = [];\n          if (response.data.length > 0) {\n            this.tableData = response.data;\n          }\n        })\n        .catch((e) => {\n          console.log(\"ERROR |\", e);\n        });\n    },\n    pollData () {\n\t\tthis.polling = setInterval(() => {\n\t\t\tthis.getCurrentStates();\n\t\t}, 2000)\n\t}\n  },\n  async created() {\n    await this.getCurrentStates();\n  },\n  beforeDestroy() {\n    clearInterval(this.polling);\n  },\n  created() {\n    this.pollData();\n  },\n};\n</script>\n<style></style>\n"],"sourceRoot":"src/views/Dashboard"}]}